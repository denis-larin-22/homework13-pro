<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <!DOCTYPE html>
    <html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
    </head>

    <body>
        <script>
            const toDoList = {
                _listTask: [
                    { title: 'dinner', text: 'cook', status: false },
                    { title: 'launch', text: 'cook launch', status: false }
                ],

                get listTask() {
                    return this._listTask;
                },

                set listTask(value) {
                    throw 'To change the listTask use methods!';
                },

                add(title, text) {
                    const note = {
                        title,
                        text,
                        status: false,
                    }

                    if (this.checkUniq(title)) {
                        this.listTask.push(note);
                    }
                },

                checkUniq(title) {
                    return !this.listTask.find(note => note.title === title);
                },

                remove(title) {
                    this.listTask.forEach(item => {
                        if (item.title == title) {
                            item.status = !item.status;
                        }
                    })
                },

                delete(title) {
                    const index = this.listTask.findIndex(note => note.title == title);

                    this.listTask.splice(index, 1);
                },

                countTask() {
                    return this.listTask.reduce((info, note) => {
                        if (!info.total) {
                            info.total = this.listTask.length;
                        }

                        if (!info[note.status]) {
                            info[note.status] = 0;
                        }

                        info[note.status]++;

                        return info;
                    }, {});
                },
            }

            Object.defineProperties(toDoList, {
                add: { enumerable: false },
                checkUniq: { enumerable: false },
                remove: { enumerable: false },
                delete: { enumerable: false },
                countTask: { enumerable: false },
            });

            Object.freeze(toDoList);
        </script>
    </body>

    </html>
</body>

</html>